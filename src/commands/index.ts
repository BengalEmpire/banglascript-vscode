// Command registrations for BanglaScript
import * as vscode from 'vscode';
import { getDocumentationHTML } from '../webviews/documentation';
import { KEYWORDS } from '../../themes/Keywords';

// ==================== HELLO WORLD COMMAND ====================
export function createHelloWorldCommand(): vscode.Disposable {
    return vscode.commands.registerCommand('banglascript.helloWorld', async () => {
        const template = `// ==========================================
// üáßüá© ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü - ‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶≤‡ßç‡¶° ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ
// ==========================================

// ‡¶ï‡¶®‡¶∏‡ßã‡¶≤‡ßá ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
‡¶≤‡¶ø‡¶ñ‡ßã("üéâ ‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã, ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨!");
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶è ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ! üáßüá©");

// ==========================================
// ‡¶≠‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶¨‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
// ==========================================
‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶®‡¶æ‡¶Æ = "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü";
‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶¨‡¶õ‡¶∞ = ‡ß®‡ß¶‡ß®‡ß´;
‡¶ö‡¶≤‡¶ï ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£ = "4.0";

‡¶≤‡¶ø‡¶ñ‡ßã("\\nüì¶ ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø:");
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶®‡¶æ‡¶Æ: " + ‡¶®‡¶æ‡¶Æ);
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶¨‡¶õ‡¶∞: " + ‡¶¨‡¶õ‡¶∞);
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£: " + ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£);

// ==========================================
// ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
// ==========================================
‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶Ø‡ßã‡¶ó(‡¶ï, ‡¶ñ) {
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ ‡¶ï + ‡¶ñ;
}

‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§(‡¶®‡¶æ‡¶Æ) {
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ "‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ, " + ‡¶®‡¶æ‡¶Æ + "! üëã";
}

// ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ = ‡¶Ø‡ßã‡¶ó(‡ßß‡ß¶, ‡ß®‡ß¶);
‡¶≤‡¶ø‡¶ñ‡ßã("\\nüî¢ ‡¶Ø‡ßã‡¶ó‡¶´‡¶≤: " + ‡¶´‡¶≤‡¶æ‡¶´‡¶≤);

‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ = ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§("‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡¶æ‡¶∞");
‡¶≤‡¶ø‡¶ñ‡ßã(‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ);

// ==========================================
// ‡¶∂‡¶∞‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
// ==========================================
‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ = ‡ßÆ‡ß´;

‡¶Ø‡¶¶‡¶ø (‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ >= ‡ßÆ‡ß¶) {
    ‡¶≤‡¶ø‡¶ñ‡ßã("\\nüèÜ ‡¶ó‡ßç‡¶∞‡ßá‡¶°: A+ - ‡¶Ö‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£!");
} ‡¶®‡¶æ‡¶π‡¶≤‡ßá ‡¶Ø‡¶¶‡¶ø (‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ >= ‡ß¨‡ß¶) {
    ‡¶≤‡¶ø‡¶ñ‡ßã("\\n‚úÖ ‡¶ó‡ßç‡¶∞‡ßá‡¶°: B - ‡¶≠‡¶æ‡¶≤‡ßã!");
} ‡¶®‡¶æ‡¶π‡¶≤‡ßá {
    ‡¶≤‡¶ø‡¶ñ‡ßã("\\nüìö ‡¶Ü‡¶∞‡ßã ‡¶™‡¶°‡¶º‡¶æ‡¶∂‡ßã‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®!");
}

// ==========================================
// ‡¶≤‡ßÅ‡¶™ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
// ==========================================
‡¶≤‡¶ø‡¶ñ‡ßã("\\nüîÅ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ó‡¶£‡¶®‡¶æ:");
‡¶ú‡¶®‡ßç‡¶Ø (‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ i = ‡ßß; i <= ‡ß´; i++) {
    ‡¶≤‡¶ø‡¶ñ‡ßã("  ‚Üí ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ: " + i);
}

‡¶≤‡¶ø‡¶ñ‡ßã("\\n‚ú® ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®!");
`;

        const doc = await vscode.workspace.openTextDocument({
            content: template,
            language: 'banglascript'
        });

        await vscode.window.showTextDocument(doc);
        vscode.window.showInformationMessage('‚úÖ ‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶≤‡ßç‡¶° ‡¶ü‡ßá‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
    });
}

// ==================== DOCUMENTATION COMMAND ====================
export function createDocsCommand(): vscode.Disposable {
    return vscode.commands.registerCommand('banglascript.showDocumentation', () => {
        const panel = vscode.window.createWebviewPanel(
            'banglascriptDocs',
            'üìö ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∂‡¶®',
            vscode.ViewColumn.Beside,
            {
                enableScripts: true,
                retainContextWhenHidden: true
            }
        );
        panel.webview.html = getDocumentationHTML();
    });
}

// ==================== CREATE NEW FILE COMMAND ====================
export function createNewFileCommand(): vscode.Disposable {
    return vscode.commands.registerCommand('banglascript.createNewFile', async () => {
        // Show quick pick for template type
        const templates = [
            { label: '$(file-code) ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶´‡¶æ‡¶á‡¶≤', description: '‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶ñ‡¶æ‡¶≤‡¶ø BanglaScript ‡¶´‡¶æ‡¶á‡¶≤', value: 'empty' },
            { label: '$(rocket) ‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶≤‡ßç‡¶°', description: '‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶ü‡ßá‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶ü', value: 'hello' },
            { label: '$(symbol-function) ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£', description: '‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£', value: 'function' },
            { label: '$(symbol-class) ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£', description: 'OOP ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£', value: 'class' },
            { label: '$(list-unordered) ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßá ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£', description: '‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßá ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£', value: 'array' },
            { label: '$(globe) DOM ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£', description: '‡¶ì‡¶Ø‡¶º‡ßá‡¶¨ DOM ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶™‡ßÅ‡¶≤‡ßá‡¶∂‡¶®', value: 'dom' },
            { label: '$(sync) ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£', description: 'Async/Await ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£', value: 'async' },
        ];

        const selected = await vscode.window.showQuickPick(templates, {
            placeHolder: '‡¶ü‡ßá‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶ü ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®...',
            title: 'üáßüá© ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶´‡¶æ‡¶á‡¶≤'
        });

        if (!selected) return;

        let content = '';

        switch (selected.value) {
            case 'empty':
                content = `// ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶´‡¶æ‡¶á‡¶≤
// ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶° ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...

`;
                break;
            case 'hello':
                vscode.commands.executeCommand('banglascript.helloWorld');
                return;
            case 'function':
                content = `// ==========================================
// üîß ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£
// ==========================================

// ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶Ø‡ßã‡¶ó(‡¶ï, ‡¶ñ) {
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ ‡¶ï + ‡¶ñ;
}

‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶¨‡¶ø‡¶Ø‡¶º‡ßã‡¶ó(‡¶ï, ‡¶ñ) {
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ ‡¶ï - ‡¶ñ;
}

‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶ó‡ßÅ‡¶£(‡¶ï, ‡¶ñ) {
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ ‡¶ï * ‡¶ñ;
}

‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶≠‡¶æ‡¶ó(‡¶ï, ‡¶ñ) {
    ‡¶Ø‡¶¶‡¶ø (‡¶ñ === ‡ß¶) {
        ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ "‡¶∂‡ßÇ‡¶®‡ßç‡¶Ø ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶≠‡¶æ‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶®‡¶æ!";
    }
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ ‡¶ï / ‡¶ñ;
}

// ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶Ø‡ßã‡¶ó: " + ‡¶Ø‡ßã‡¶ó(‡ßß‡ß¶, ‡ß´));
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶¨‡¶ø‡¶Ø‡¶º‡ßã‡¶ó: " + ‡¶¨‡¶ø‡¶Ø‡¶º‡ßã‡¶ó(‡ßß‡ß¶, ‡ß´));
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶ó‡ßÅ‡¶£: " + ‡¶ó‡ßÅ‡¶£(‡ßß‡ß¶, ‡ß´));
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶≠‡¶æ‡¶ó: " + ‡¶≠‡¶æ‡¶ó(‡ßß‡ß¶, ‡ß´));

// ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßã ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶¨‡¶∞‡ßç‡¶ó = (‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ) => ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ * ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ;
‡¶≤‡¶ø‡¶ñ‡ßã("‡ß´ ‡¶è‡¶∞ ‡¶¨‡¶∞‡ßç‡¶ó: " + ‡¶¨‡¶∞‡ßç‡¶ó(‡ß´));

// ‡¶ï‡¶≤‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏(‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ, callback) {
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ callback(‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ);
}

‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ = ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏(‡ß≠, ‡¶¨‡¶∞‡ßç‡¶ó);
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏ ‡¶´‡¶≤‡¶æ‡¶´‡¶≤: " + ‡¶´‡¶≤‡¶æ‡¶´‡¶≤);
`;
                break;
            case 'class':
                content = `// ==========================================
// üèóÔ∏è ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ (OOP)
// ==========================================

// ‡¶¨‡ßá‡¶∏ ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏
‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶™‡ßç‡¶∞‡¶æ‡¶£‡ßÄ {
    ‡¶®‡¶ø‡¶∞‡ßç‡¶Æ‡¶æ‡¶§‡¶æ(‡¶®‡¶æ‡¶Æ, ‡¶¨‡¶Ø‡¶º‡¶∏) {
        ‡¶è‡¶á.‡¶®‡¶æ‡¶Æ = ‡¶®‡¶æ‡¶Æ;
        ‡¶è‡¶á.‡¶¨‡¶Ø‡¶º‡¶∏ = ‡¶¨‡¶Ø‡¶º‡¶∏;
    }
    
    ‡¶™‡¶∞‡¶ø‡¶ö‡¶Ø‡¶º() {
        ‡¶≤‡¶ø‡¶ñ‡ßã("‡¶Ü‡¶Æ‡¶ø " + ‡¶è‡¶á.‡¶®‡¶æ‡¶Æ + ", ‡¶¨‡¶Ø‡¶º‡¶∏ " + ‡¶è‡¶á.‡¶¨‡¶Ø‡¶º‡¶∏ + " ‡¶¨‡¶õ‡¶∞");
    }
    
    ‡¶∂‡¶¨‡ßç‡¶¶_‡¶ï‡¶∞‡ßã() {
        ‡¶≤‡¶ø‡¶ñ‡ßã(‡¶è‡¶á.‡¶®‡¶æ‡¶Æ + " ‡¶∂‡¶¨‡ßç‡¶¶ ‡¶ï‡¶∞‡¶õ‡ßá...");
    }
}

// ‡¶á‡¶®‡¶π‡ßá‡¶∞‡¶ø‡¶ü‡ßá‡¶®‡ßç‡¶∏ - ‡¶∏‡¶æ‡¶¨ ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏
‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ï‡ßÅ‡¶ï‡ßÅ‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡ßÉ‡¶§ ‡¶™‡ßç‡¶∞‡¶æ‡¶£‡ßÄ {
    ‡¶®‡¶ø‡¶∞‡ßç‡¶Æ‡¶æ‡¶§‡¶æ(‡¶®‡¶æ‡¶Æ, ‡¶¨‡¶Ø‡¶º‡¶∏, ‡¶ú‡¶æ‡¶§) {
        ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞(‡¶®‡¶æ‡¶Æ, ‡¶¨‡¶Ø‡¶º‡¶∏);
        ‡¶è‡¶á.‡¶ú‡¶æ‡¶§ = ‡¶ú‡¶æ‡¶§;
    }
    
    ‡¶∂‡¶¨‡ßç‡¶¶_‡¶ï‡¶∞‡ßã() {
        ‡¶≤‡¶ø‡¶ñ‡ßã(‡¶è‡¶á.‡¶®‡¶æ‡¶Æ + " ‡¶¨‡¶≤‡¶õ‡ßá: ‡¶ò‡ßá‡¶â ‡¶ò‡ßá‡¶â! üêï");
    }
    
    ‡¶§‡¶•‡ßç‡¶Ø() {
        ‡¶è‡¶á.‡¶™‡¶∞‡¶ø‡¶ö‡¶Ø‡¶º();
        ‡¶≤‡¶ø‡¶ñ‡ßã("‡¶ú‡¶æ‡¶§: " + ‡¶è‡¶á.‡¶ú‡¶æ‡¶§);
    }
}

‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶¨‡¶ø‡¶°‡¶º‡¶æ‡¶≤ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡ßÉ‡¶§ ‡¶™‡ßç‡¶∞‡¶æ‡¶£‡ßÄ {
    ‡¶∂‡¶¨‡ßç‡¶¶_‡¶ï‡¶∞‡ßã() {
        ‡¶≤‡¶ø‡¶ñ‡ßã(‡¶è‡¶á.‡¶®‡¶æ‡¶Æ + " ‡¶¨‡¶≤‡¶õ‡ßá: ‡¶Æ‡¶ø‡¶â ‡¶Æ‡¶ø‡¶â! üê±");
    }
}

// ‡¶Ö‡¶¨‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø
‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶ü‡¶Æ‡¶ø = ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡ßÅ‡¶ï‡ßÅ‡¶∞("‡¶ü‡¶Æ‡¶ø", ‡ß©, "‡¶ú‡¶æ‡¶∞‡ßç‡¶Æ‡¶æ‡¶® ‡¶∂‡ßá‡¶´‡¶æ‡¶∞‡ßç‡¶°");
‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶Æ‡¶ø‡¶â = ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶ø‡¶°‡¶º‡¶æ‡¶≤("‡¶Æ‡¶ø‡¶â", ‡ß®);

‡¶≤‡¶ø‡¶ñ‡ßã("=== ‡¶ï‡ßÅ‡¶ï‡ßÅ‡¶∞ ===");
‡¶ü‡¶Æ‡¶ø.‡¶§‡¶•‡ßç‡¶Ø();
‡¶ü‡¶Æ‡¶ø.‡¶∂‡¶¨‡ßç‡¶¶_‡¶ï‡¶∞‡ßã();

‡¶≤‡¶ø‡¶ñ‡ßã("\\n=== ‡¶¨‡¶ø‡¶°‡¶º‡¶æ‡¶≤ ===");
‡¶Æ‡¶ø‡¶â.‡¶™‡¶∞‡¶ø‡¶ö‡¶Ø‡¶º();
‡¶Æ‡¶ø‡¶â.‡¶∂‡¶¨‡ßç‡¶¶_‡¶ï‡¶∞‡ßã();
`;
                break;
            case 'array':
                content = `// ==========================================
// üìù ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßá ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£
// ==========================================

// ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßá ‡¶§‡ßà‡¶∞‡¶ø
‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶´‡¶≤‡¶∏‡¶Æ‡ßÇ‡¶π = ["‡¶Ü‡¶Æ", "‡¶ú‡¶æ‡¶Æ", "‡¶ï‡¶æ‡¶Å‡¶†‡¶æ‡¶≤", "‡¶≤‡¶ø‡¶ö‡ßÅ", "‡¶ï‡¶≤‡¶æ"];
‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π = [‡ßß‡ß¶, ‡ß®‡ß¶, ‡ß©‡ß¶, ‡ß™‡ß¶, ‡ß´‡ß¶];

// ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶´‡¶≤: " + ‡¶´‡¶≤‡¶∏‡¶Æ‡ßÇ‡¶π[‡ß¶]);
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¶‡ßà‡¶∞‡ßç‡¶ò‡ßç‡¶Ø: " + ‡¶´‡¶≤‡¶∏‡¶Æ‡ßÇ‡¶π.‡¶¶‡ßà‡¶∞‡ßç‡¶ò‡ßç‡¶Ø);

// ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶§‡ßá ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ ‡¶Ø‡ßã‡¶ó
‡¶´‡¶≤‡¶∏‡¶Æ‡ßÇ‡¶π.‡¶†‡ßá‡¶≤‡ßã("‡¶Ü‡¶™‡ßá‡¶≤");
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶®‡¶§‡ßÅ‡¶® ‡¶´‡¶≤ ‡¶Ø‡ßã‡¶ó ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: " + ‡¶´‡¶≤‡¶∏‡¶Æ‡ßÇ‡¶π);

// ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø‡¶§‡ßá (forEach)
‡¶≤‡¶ø‡¶ñ‡ßã("\\nüçé ‡¶´‡¶≤‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ:");
‡¶´‡¶≤‡¶∏‡¶Æ‡ßÇ‡¶π.‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø‡¶§‡ßá(‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶®(‡¶´‡¶≤, ‡¶∏‡ßÇ‡¶ö‡¶ï) {
    ‡¶≤‡¶ø‡¶ñ‡ßã((‡¶∏‡ßÇ‡¶ö‡¶ï + ‡ßß) + ". " + ‡¶´‡¶≤);
});

// ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™ - ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ ‡¶¶‡ßç‡¶¨‡¶ø‡¶ó‡ßÅ‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®
‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶¶‡ßç‡¶¨‡¶ø‡¶ó‡ßÅ‡¶£ = ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π.‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™(‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶®(n) {
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ n * ‡ß®;
});
‡¶≤‡¶ø‡¶ñ‡ßã("\\n‡¶¶‡ßç‡¶¨‡¶ø‡¶ó‡ßÅ‡¶£ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ: " + ‡¶¶‡ßç‡¶¨‡¶ø‡¶ó‡ßÅ‡¶£);

// ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ - ‡¶¨‡¶°‡¶º ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶¨‡¶æ‡¶õ‡¶æ‡¶á
‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶¨‡¶°‡¶º‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ = ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π.‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞(‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶®(n) {
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ n > ‡ß®‡ß´;
});
‡¶≤‡¶ø‡¶ñ‡ßã("‡ß®‡ß´ ‡¶è‡¶∞ ‡¶¨‡ßá‡¶∂‡¶ø ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ: " + ‡¶¨‡¶°‡¶º‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ);

// ‡¶π‡ßç‡¶∞‡¶æ‡¶∏ (reduce) - ‡¶Ø‡ßã‡¶ó‡¶´‡¶≤
‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶Ø‡ßã‡¶ó‡¶´‡¶≤ = ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π.‡¶π‡ßç‡¶∞‡¶æ‡¶∏(‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶®(acc, curr) {
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ acc + curr;
}, ‡ß¶);
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶Æ‡ßã‡¶ü ‡¶Ø‡ßã‡¶ó‡¶´‡¶≤: " + ‡¶Ø‡ßã‡¶ó‡¶´‡¶≤);

// ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá (find)
‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ = ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π.‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá(‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶®(n) {
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ n > ‡ß®‡ß´;
});
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶¨‡¶°‡¶º ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ: " + ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ);

// ‡¶∏‡¶æ‡¶ú‡¶æ‡¶ì ‡¶ì ‡¶â‡¶≤‡ßç‡¶ü‡¶æ‡¶ì
‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶®‡¶§‡ßÅ‡¶®_‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ = [‡ß´, ‡ß®, ‡ßÆ, ‡ßß, ‡ßØ];
‡¶®‡¶§‡ßÅ‡¶®_‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ.‡¶∏‡¶æ‡¶ú‡¶æ‡¶ì();
‡¶≤‡¶ø‡¶ñ‡ßã("\\n‡¶∏‡¶æ‡¶ú‡¶æ‡¶®‡ßã ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ: " + ‡¶®‡¶§‡ßÅ‡¶®_‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ);
‡¶®‡¶§‡ßÅ‡¶®_‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ.‡¶â‡¶≤‡ßç‡¶ü‡¶æ‡¶ì();
‡¶≤‡¶ø‡¶ñ‡ßã("‡¶â‡¶≤‡ßç‡¶ü‡¶æ‡¶®‡ßã ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ: " + ‡¶®‡¶§‡ßÅ‡¶®_‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ);
`;
                break;
            case 'dom':
                content = `// ==========================================
// üåê DOM ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶™‡ßÅ‡¶≤‡ßá‡¶∂‡¶® ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£
// ==========================================
// ‡¶¶‡ßç‡¶∞‡¶∑‡ßç‡¶ü‡¶¨‡ßç‡¶Ø: ‡¶è‡¶á ‡¶ï‡ßã‡¶° ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá ‡¶ö‡¶æ‡¶≤‡¶æ‡¶§‡ßá ‡¶π‡¶¨‡ßá

// ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶ï‡ßã‡¶° ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®
‡¶¶‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡ßá‡¶ú.‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü_‡¶Ø‡ßã‡¶ó_‡¶ï‡¶∞‡ßã("DOMContentLoaded", ‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶®() {
    
    // ==========================================
    // ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ
    // ==========================================
    
    // ID ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü
    ‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ = ‡¶¶‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡ßá‡¶ú.‡¶Ü‡¶á‡¶°‡¶ø_‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ_‡¶™‡¶æ‡¶ì("main-title");
    
    // CSS ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá
    ‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶¨‡ßã‡¶§‡¶æ‡¶Æ = ‡¶¶‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡ßá‡¶ú.‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞_‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ_‡¶™‡¶æ‡¶ì("#submit-btn");
    ‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶∏‡¶¨_‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ = ‡¶¶‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡ßá‡¶ú.‡¶∏‡¶¨_‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞_‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ_‡¶™‡¶æ‡¶ì(".list-item");
    
    // ==========================================
    // ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
    // ==========================================
    
    ‡¶Ø‡¶¶‡¶ø (‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ) {
        ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ.‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü_‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®_‡¶ï‡¶∞‡ßã = "üáßüá© ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶è ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!";
        ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ.‡¶∂‡ßà‡¶≤‡ßÄ.color = "#2DA44E";
        ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ.‡¶∂‡ßà‡¶≤‡ßÄ.fontSize = "24px";
    }
    
    // ==========================================
    // ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶ø‡¶Ç
    // ==========================================
    
    ‡¶Ø‡¶¶‡¶ø (‡¶¨‡ßã‡¶§‡¶æ‡¶Æ) {
        ‡¶¨‡ßã‡¶§‡¶æ‡¶Æ.‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü_‡¶Ø‡ßã‡¶ó_‡¶ï‡¶∞‡ßã("click", ‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶®() {
            ‡¶≤‡¶ø‡¶ñ‡ßã("‡¶¨‡ßã‡¶§‡¶æ‡¶Æ‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! üñ±Ô∏è");
            ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ("‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã! ‡¶¨‡ßã‡¶§‡¶æ‡¶Æ‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®!");
        });
    }
    
    // ==========================================
    // ‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø
    // ==========================================
    
    ‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ_‡¶Ø‡ßã‡¶ó_‡¶ï‡¶∞‡ßã(‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü) {
        ‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶®‡¶§‡ßÅ‡¶®_‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ = ‡¶¶‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡ßá‡¶ú.‡¶§‡ßà‡¶∞‡¶ø_‡¶ï‡¶∞‡ßã("div");
        ‡¶®‡¶§‡ßÅ‡¶®_‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ.‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü_‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®_‡¶ï‡¶∞‡ßã = ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü;
        ‡¶®‡¶§‡ßÅ‡¶®_‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ.‡¶ï‡ßç‡¶≤‡¶æ‡¶∏_‡¶Ø‡ßã‡¶ó_‡¶ï‡¶∞‡ßã("list-item");
        
        ‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ = ‡¶¶‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡ßá‡¶ú.‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞_‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ_‡¶™‡¶æ‡¶ì("#container");
        ‡¶Ø‡¶¶‡¶ø (‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞) {
            ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞.‡¶Ø‡ßã‡¶ó_‡¶ï‡¶∞‡ßã(‡¶®‡¶§‡ßÅ‡¶®_‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ);
        }
    }
    
    // ==========================================
    // ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ü‡¶ó‡¶≤ ‡¶ï‡¶∞‡¶æ
    // ==========================================
    
    ‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶•‡¶ø‡¶Æ_‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®() {
        ‡¶¶‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡ßá‡¶ú.‡¶¨‡¶°‡¶ø.‡¶ï‡ßç‡¶≤‡¶æ‡¶∏_‡¶ü‡¶ó‡¶≤_‡¶ï‡¶∞‡ßã("dark-mode");
    }
    
    ‡¶≤‡¶ø‡¶ñ‡ßã("‚úÖ DOM ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶™‡ßÅ‡¶≤‡ßá‡¶∂‡¶® ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§!");
});
`;
                break;
            case 'async':
                content = `// ==========================================
// ‚ö° ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï/‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ì‡¶Ø‡¶º‡ßá‡¶ü ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£
// ==========================================

// ‡¶∏‡¶ø‡¶Æ‡ßç‡¶™‡¶≤ Promise
‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶¨‡¶ø‡¶≤‡¶Æ‡ßç‡¶¨‡¶ø‡¶§_‡¶ï‡¶æ‡¶ú(‡¶Æ‡¶ø‡¶≤‡¶ø‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°) {
    ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ ‡¶®‡¶§‡ßÅ‡¶® Promise(‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶®(resolve) {
        setTimeout(‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶®() {
            resolve("‚úÖ " + ‡¶Æ‡¶ø‡¶≤‡¶ø‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° + "ms ‡¶™‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®!");
        }, ‡¶Æ‡¶ø‡¶≤‡¶ø‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°);
    });
}

// ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶Æ‡ßÇ‡¶≤_‡¶ï‡¶æ‡¶ú() {
    ‡¶≤‡¶ø‡¶ñ‡ßã("üöÄ ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...");
    
    // ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®
    ‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶´‡¶≤‡¶æ‡¶´‡¶≤‡ßß = ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶¨‡¶ø‡¶≤‡¶Æ‡ßç‡¶¨‡¶ø‡¶§_‡¶ï‡¶æ‡¶ú(‡ßß‡ß¶‡ß¶‡ß¶);
    ‡¶≤‡¶ø‡¶ñ‡ßã(‡¶´‡¶≤‡¶æ‡¶´‡¶≤‡ßß);
    
    ‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶´‡¶≤‡¶æ‡¶´‡¶≤‡ß® = ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶¨‡¶ø‡¶≤‡¶Æ‡ßç‡¶¨‡¶ø‡¶§_‡¶ï‡¶æ‡¶ú(‡ß´‡ß¶‡ß¶);
    ‡¶≤‡¶ø‡¶ñ‡ßã(‡¶´‡¶≤‡¶æ‡¶´‡¶≤‡ß®);
    
    ‡¶≤‡¶ø‡¶ñ‡ßã("‚ú® ‡¶∏‡¶¨ ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßá‡¶∑!");
}

// API ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶®‡¶æ (‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£)
‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶°‡¶æ‡¶ü‡¶æ_‡¶Ü‡¶®‡ßã(url) {
    ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ {
        ‡¶≤‡¶ø‡¶ñ‡ßã("üì° ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶®‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...");
        
        ‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï response = ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ fetch(url);
        
        ‡¶Ø‡¶¶‡¶ø (!response.ok) {
            ‡¶õ‡ßÅ‡¶°‡¶º‡ßá_‡¶¶‡¶æ‡¶ì ‡¶®‡¶§‡ßÅ‡¶® Error("‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ!");
        }
        
        ‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶°‡¶æ‡¶ü‡¶æ = ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ response.json();
        ‡¶≤‡¶ø‡¶ñ‡ßã("‚úÖ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶ó‡ßá‡¶õ‡ßá:", ‡¶°‡¶æ‡¶ü‡¶æ);
        ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ ‡¶°‡¶æ‡¶ü‡¶æ;
        
    } ‡¶ß‡¶∞‡ßã (‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø) {
        ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø_‡¶≤‡¶ø‡¶ñ‡ßã("‚ùå ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ:", ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø.message);
    } ‡¶Ö‡¶¨‡¶∂‡ßá‡¶∑‡ßá {
        ‡¶≤‡¶ø‡¶ñ‡ßã("üèÅ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®");
    }
}

// Promise.all - ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶Ö‡¶®‡ßá‡¶ï ‡¶ï‡¶æ‡¶ú
‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶∏‡¶Æ‡¶æ‡¶®‡ßç‡¶§‡¶∞‡¶æ‡¶≤_‡¶ï‡¶æ‡¶ú() {
    ‡¶≤‡¶ø‡¶ñ‡ßã("üîÑ ‡¶∏‡¶Æ‡¶æ‡¶®‡ßç‡¶§‡¶∞‡¶æ‡¶≤ ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßÅ‡¶∞‡ßÅ...");
    
    ‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶ï‡¶æ‡¶ú‡¶∏‡¶Æ‡ßÇ‡¶π = [
        ‡¶¨‡¶ø‡¶≤‡¶Æ‡ßç‡¶¨‡¶ø‡¶§_‡¶ï‡¶æ‡¶ú(‡ßß‡ß¶‡ß¶‡ß¶),
        ‡¶¨‡¶ø‡¶≤‡¶Æ‡ßç‡¶¨‡¶ø‡¶§_‡¶ï‡¶æ‡¶ú(‡ßÆ‡ß¶‡ß¶),
        ‡¶¨‡¶ø‡¶≤‡¶Æ‡ßç‡¶¨‡¶ø‡¶§_‡¶ï‡¶æ‡¶ú(‡ß´‡ß¶‡ß¶)
    ];
    
    ‡¶ß‡ßç‡¶∞‡ßÅ‡¶¨‡¶ï ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ = ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ Promise.all(‡¶ï‡¶æ‡¶ú‡¶∏‡¶Æ‡ßÇ‡¶π);
    ‡¶≤‡¶ø‡¶ñ‡ßã("‡¶∏‡¶¨ ‡¶´‡¶≤‡¶æ‡¶´‡¶≤:", ‡¶´‡¶≤‡¶æ‡¶´‡¶≤);
}

// ‡¶ï‡¶æ‡¶ú ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®
‡¶Æ‡ßÇ‡¶≤_‡¶ï‡¶æ‡¶ú();
`;
                break;
        }

        const doc = await vscode.workspace.openTextDocument({
            content: content,
            language: 'banglascript'
        });

        await vscode.window.showTextDocument(doc);
        vscode.window.showInformationMessage('‚úÖ ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
    });
}

// ==================== RUN FILE COMMAND ====================
export function createRunFileCommand(): vscode.Disposable {
    return vscode.commands.registerCommand('banglascript.runFile', async () => {
        const editor = vscode.window.activeTextEditor;
        if (!editor || editor.document.languageId !== 'banglascript') {
            vscode.window.showWarningMessage('‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø BanglaScript (.bjs) ‡¶´‡¶æ‡¶á‡¶≤ ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®‡•§');
            return;
        }

        // Save the file first
        await editor.document.save();

        const filePath = editor.document.uri.fsPath;

        // Check if banglascript CLI is installed
        const terminal = vscode.window.createTerminal('BanglaScript');
        terminal.show();
        terminal.sendText(`bjs run "${filePath}"`);

        vscode.window.showInformationMessage('üöÄ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶´‡¶æ‡¶á‡¶≤ ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá...');
    });
}

// ==================== KEYWORD REFERENCE COMMAND ====================
export function createKeywordReferenceCommand(): vscode.Disposable {
    return vscode.commands.registerCommand('banglascript.showKeywordReference', () => {
        const panel = vscode.window.createWebviewPanel(
            'banglascriptKeywords',
            'üìñ ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏',
            vscode.ViewColumn.Beside,
            { enableScripts: true }
        );

        // Generate keyword table
        const keywordRows = Object.entries(KEYWORDS)
            .map(([bangla, js]) => `<tr><td><code>${bangla}</code></td><td><code>${js}</code></td></tr>`)
            .join('\n');

        panel.webview.html = `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            padding: 20px;
            background: #0D1117;
            color: #E6EDF3;
        }
        h1 {
            color: #3FB950;
            border-bottom: 2px solid #21262D;
            padding-bottom: 10px;
        }
        h2 {
            color: #58A6FF;
            margin-top: 30px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #30363D;
            padding: 12px;
            text-align: left;
        }
        th {
            background: #161B22;
            color: #F0883E;
        }
        tr:hover {
            background: #161B22;
        }
        code {
            background: #21262D;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
        }
        .search {
            width: 100%;
            padding: 12px;
            margin: 20px 0;
            border: 1px solid #30363D;
            border-radius: 6px;
            background: #0D1117;
            color: #E6EDF3;
            font-size: 16px;
        }
        .search:focus {
            outline: none;
            border-color: #58A6FF;
        }
    </style>
</head>
<body>
    <h1>üìñ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏</h1>
    <p>‡¶Æ‡ßã‡¶ü <strong>${Object.keys(KEYWORDS).length}</strong>‡¶ü‡¶ø ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</p>
    
    <input type="text" class="search" placeholder="üîç ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®..." oninput="filterTable(this.value)">
    
    <table id="keywordTable">
        <thead>
            <tr>
                <th>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</th>
                <th>JavaScript ‡¶∏‡¶Æ‡¶§‡ßÅ‡¶≤‡ßç‡¶Ø</th>
            </tr>
        </thead>
        <tbody>
            ${keywordRows}
        </tbody>
    </table>

    <script>
        function filterTable(query) {
            const rows = document.querySelectorAll('#keywordTable tbody tr');
            query = query.toLowerCase();
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(query) ? '' : 'none';
            });
        }
    </script>
</body>
</html>`;
    });
}